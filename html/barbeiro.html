<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <title>Cadastro</title>
    <style>
        /* ALERTAS BONITOS */
        div:where(.swal2-container) div:where(.swal2-popup) {
            background: #1e242b;
        }

        div:where(.swal2-container) div:where(.swal2-popup) {
            color: #C4974F;
        }

        .labelArquivo {
            color: #db9a32d6;
        }

        .labelArquivo,
        .spanArquivo {
            cursor: pointer;
            padding: 8px 5px;
        }

        .spanArquivo {
            font-size: .7em;
            padding: 9px 0px;
        }

        main #etapa1 input {
            margin: 54px auto;
        }

        main #etapa2 input,
        textarea {
            margin: 32px auto 20px;
        }

        main form {
            max-width: 500px;
        }

        @media (max-width: 767px) {
            .footerFixo {
                position: relative;
                margin-top: 10px;
            }
        }
    </style>
</head>

<body>
    <header>
        <nav>
            <ul>
                <!-- <li><a href="#" class="links">Conta</a></li> -->
            </ul>
        </nav>
    </header>

    <main>
        <form action="../php/barbeiro.php" method="post" style="text-align: center;" enctype="multipart/form-data">
            <p style="margin: 10px;">Etapa <strong id="etapa">1</strong> de <strong>2</strong></p>
            <h2>Cadastro</h2>
            <fieldset style="border: none;">
                <!-- <div id="barbearia"> -->
                <div id="etapa1">
                    <input type="text" placeholder="Nome Completo:" class="caixaInput" name="nome">

                    <input type="email" placeholder="E-mail profissional:" class="caixaInput" name="email" id="email">

                    <input type="tel" maxlength="15" onkeyup="handlePhone(event)" placeholder="Telefone: DDD:"
                        class="caixaInput" name="telefone" id="telefone">

                    <input type="password" placeholder="Senha:" class="caixaInput" name="senha" id="senha">

                    <input type="password" placeholder="Confirmar senha:" class="caixaInput" name="confirmar"
                        id="confirmarSenha">
                </div>

                <div class="invisivel" id="etapa2">
                    <input placeholder="Nome do Estabelecimento:" class="caixaInput" type="text"
                        name="nome_estabelecimento" id="nome_estabelecimento">

                    <input placeholder="Localização:" type="text" class="caixaInput" name="localizacao"
                        id="localizacao"><br>
                    <!-- </div> -->

                    <!-- <label style="" for="imagem" id="botaoArquivo">Selecionar foto do estabelecimento</label> -->
                    <!-- FOTO do Estabelecimento -->
                    <div style="text-align: start; width: 80%; margin: 0 auto 40px; border-bottom: 1px solid #C4974F;">
                        <label for="foto" class="labelArquivo">
                            Foto do estabelecimento
                        </label>
                        <input type="file" id="foto" name="foto" accept="image/*" required style="display: none;">
                        <span id="foto-nome" class="spanArquivo" style="font-size: .8em;">Nenhum arquivo
                            selecionado</span>
                    </div>

                    <!-- LOGO do Estabelecimento -->
                    <div style="width: 80%; text-align: left; margin: 0 auto 10px; border-bottom: 1px solid #C4974F;">
                        <label for="logo" class="labelArquivo">
                            Logo do estabelecimento
                        </label>
                        <input type="file" id="logo" name="logo" accept="image/*" required style="display: none;">
                        <span id="logo-nome" class="spanArquivo">Nenhum arquivo
                            selecionado</span>
                    </div>
                    <textarea name="apresentacao" id="apresentacao"
                        placeholder="Escreva aqui uma breve apresentação de seu estabelecimento" required></textarea>
                </div>

                <div style="display: flex;">
                    <button id="botao1" type="button" onclick="avancar()">Avançar</button>
                    <button id="botao3" style="display: none;" type="button" onclick="voltar()">Voltar</button>
                    <button id="botao2" style="display: none;" type="submit">Enviar</button>
                </div>
                <p>Já possui um cadastro? <a href="login.html">Clique aqui</a> para logar</p>
            </fieldset>
        </form>
    </main>

    <footer class="footerFixo">
        <a href="#"><img src="../img/icons/github.png" alt=""><span>GitHub</span></a>
        <p>©Todos os direitos reservados a Fábrica do Corte</p>
    </footer>

    <script src="../script.js"></script>
    <script src="../mensagem.js"></script>
    <script>
        document.getElementById('foto').addEventListener('change', function () {
            const nome = this.files.length ? this.files[0].name : 'Nenhum arquivo selecionado';
            document.getElementById('foto-nome').textContent = nome;
        });

        document.getElementById('logo').addEventListener('change', function () {
            const nome = this.files.length ? this.files[0].name : 'Nenhum arquivo selecionado';
            document.getElementById('logo-nome').textContent = nome;
        });

        const handlePhone = (event) => {
            let input = event.target
            input.value = phoneMask(input.value)
        }

        const phoneMask = (value) => {
            if (!value) return ""
            value = value.replace(/\D/g, '')
            value = value.replace(/(\d{2})(\d)/, "($1) $2")
            //Faz o hí 
            value = value.replace(/(\d)(\d{4})$/, "$1-$2")
            return value
        }
    </script>
</body>

</html>